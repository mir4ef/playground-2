/**
 * Created by miroslav.georgiev on 11/6/16.
 */

(function () {
    'use strict';

    if (!Worker) {
        console.error(`Browser does not support Web Workers.`);

        return false;
    }

    const worker = new Worker('js/worker.js');
    // const arr = ['asd', ,, '', 'asdf', '123', 0,, '0', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123];
    const arr = ['asd', ,, '', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy', 'asd', 'asdf', '123', '123asd', 'asd123', 'asd', '123asd', undefined, undefined, null, null, false, false, 'false', 'null', 'false', 'null', 'undefined', 123, 1234, 123, 123, 12345, 123, 'asd', 'asd123', 'some', 'miro', 'daddy', 'ryan', 'rali', 'mammy'];

    function result(msg) {
        console.log(msg.data.length);

        worker.terminate();
    }

    worker.postMessage(arr);
    worker.onmessage = result;
})();